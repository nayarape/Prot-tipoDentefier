<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DENTEFIER - Gerenciamento de Casos Odontolegais</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="preconnect" href="https://maps.googleapis.com">
  <link rel="dns-prefetch" href="https://maps.googleapis.com">
  <script src="js/navbar.js" defer></script>
  <script src="js/maps.js" defer></script>
  
</head>

<body>
  <!-- Banner principal -->
  <div class="top-banner">
    <div class="banner-content">
      <div class="logo-container">
        <img src="images/logo_dentefier.png" alt="Logo DENTEFIER" class="main-logo">
      </div>
      <div class="banner-text">
        <h1>DENTEFIER</h1>
        <span class="origin-badge">Laudos e Perícias</span>
        <p>Sistema de Gerenciamento de Casos Odontolegais</p>
      </div>
    </div>
    <div class="accessibility-tools">
      <button class="access-btn" id="btn-contrast"><img src="images/icon-contrast.png" alt="Contraste"></button>
      <button class="access-btn" id="btn-font-increase"><img src="images/icon-font-increase.png" alt="Aumentar fonte"></button>
      <button class="access-btn" id="btn-font-decrease"><img src="images/icon-font-decrease.png" alt="Diminuir fonte"></button>
    </div>
  </div>

  <header>
    <nav>
      <ul>
        <li><a href="tela_inicio.html">HOME</a></li>
        <li><a href="gerenciar_casos.html">GERENCIAR CASOS</a></li>
        <li class="admin-only"><a href="gerenciar_usuario.html">USUÁRIOS</a></li>
        <li><a href="dashboard_busca.html">HISTÓRICO</a></li>
        <li><a href="logout.html">SAIR</a></li>
      </ul>
    </nav>
  </header>

  <main class="container">
    <div class="welcome-section">
      <h2>Formulário Simplificado - Cadastro de Caso</h2>
      <p class="user-role">Função: <span id="usuario-papel">Administrador</span></p>
      <div class="date-info">
        <p>Data: <span id="current-date">22 de Abril de 2025</span></p>
      </div>
    </div>
    
    <form id="form-caso-simplificado">
      <!-- Seção 1: Informações Básicas -->
      <div class="form-section">
        <div class="section-title">
          <h3>1. Informações Básicas</h3>
          <button type="button" class="toggle-btn" data-target="info-basicas-content">
            <i class="fas fa-chevron-up"></i>
          </button>
        </div>
        
        <div id="info-basicas-content">
          <div class="form-row">
            <div class="form-group">
              <input type="text" name="numeroCaso" placeholder="Número do Caso" required class="input-large">
            </div>
            <div class="form-group">
              <input type="text" name="titulo" placeholder="Título do Caso" required class="input-large">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="dataAbertura">Data de Abertura:</label>
              <input type="date" name="dataAbertura" required class="input-large">
            </div>
            <div class="form-group">
              <input type="text" name="responsavel" placeholder="Responsável pelo Caso" required class="input-large">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="tipoCaso">Tipo de Caso:</label>
              <select name="tipoCaso" required class="input-large">
                <option value="">Selecione o Tipo de Caso</option>
                <option value="Identificação">Identificação</option>
                <option value="Estimativa de idade">Estimativa de idade</option>
                <option value="Avaliação de mordida">Avaliação de mordida</option>
                <option value="Lesão bucomaxilofacial">Lesão bucomaxilofacial</option>
                <option value="Confronto AM/PM">Confronto AM/PM</option>
                <option value="Outro">Outro</option>
              </select>
            </div>
            <div class="form-group">
              <label for="status">Status:</label>
              <select name="status" required class="input-large">
                <option value="">Selecione o Status</option>
                <option value="Em andamento">Em andamento</option>
                <option value="Finalizado">Finalizado</option>
                <option value="Arquivado">Arquivado</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Seção 2: Identificação do Examinado -->
      <div class="form-section">
        <div class="section-title">
          <h3>2. Identificação do Examinado</h3>
          <button type="button" class="toggle-btn" data-target="examinado-content">
            <i class="fas fa-chevron-up"></i>
          </button>
        </div>
        
        <div id="examinado-content">
          <div class="form-group">
            <label>Examinado identificado?</label>
            <select name="identificado" id="identificadoSelect" required class="input-large">
              <option value="">Selecione</option>
              <option value="sim">Sim</option>
              <option value="nao">Não</option>
            </select>
          </div>
          
          <div class="conditional-fields" id="campos-identificacao">
            <div class="form-row">
              <div class="form-group">
                <input type="text" name="nomeCompleto" placeholder="Nome completo" class="input-large">
              </div>
              <div class="form-group">
                <label for="sexo">Sexo:</label>
                <select name="sexo" id="sexo" class="input-large">
                  <option value="">Selecione o sexo</option>
                  <option value="masculino">Masculino</option>
                  <option value="feminino">Feminino</option>
                  <option value="outro">Outro</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="idade">Idade:</label>
                <input type="number" name="idade" placeholder="Idade" min="0" max="120" class="input-large">
              </div>
              <div class="form-group">
                <label for="estadoCorpo">Estado do corpo:</label>
                <select name="estadoCorpo" id="estadoCorpo" class="input-large">
                  <option value="">Selecione o estado do corpo</option>
                  <option value="vivo">Vivo</option>
                  <option value="cadaver">Cadáver</option>
                  <option value="ossada">Ossada</option>
                  <option value="materialIsolado">Material isolado</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Seção 3: Preâmbulo -->
      <div class="form-section">
        <div class="section-title">
          <h3>3. Preâmbulo</h3>
          <button type="button" class="toggle-btn" data-target="preambulo-content">
            <i class="fas fa-chevron-up"></i>
          </button>
        </div>
        
        <div id="preambulo-content">
          <div class="form-row">
            <div class="form-group">
              <input type="text" name="numeroBO" placeholder="Número do BO (Boletim de Ocorrência)" class="input-large">
            </div>
            <div class="form-group">
              <input type="text" name="autoridadeRequisitante" placeholder="Autoridade Requisitante" class="input-large">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="dataHoraPericia">Data e hora da perícia:</label>
              <input type="datetime-local" name="dataHoraPericia" class="input-large">
            </div>
            <div class="form-group">
              <input type="text" name="localExame" placeholder="Local do exame" class="input-large">
            </div>
          </div>
          
          <div class="form-group">
            <textarea name="finalidadeExame" placeholder="Finalidade do exame e quesitos a serem respondidos" class="input-large"></textarea>
          </div>
        </div>
      </div>
      
      <!-- Seção 4: Histórico -->
      <div class="form-section">
        <div class="section-title">
          <h3>4. Histórico</h3>
          <button type="button" class="toggle-btn" data-target="historico-content">
            <i class="fas fa-chevron-up"></i>
          </button>
        </div>
        
        <div id="historico-content">
          <div class="form-group">
            <textarea name="relatoSucinto" placeholder="Relato sucinto do caso" class="input-large"></textarea>
          </div>
        </div>
      </div>
      
      <!-- Seção 5: Descrição -->
      <div class="form-section">
        <div class="section-title">
          <h3>5. Descrição</h3>
          <button type="button" class="toggle-btn" data-target="descricao-content">
            <i class="fas fa-chevron-up"></i>
          </button>
        </div>
        
        <div id="descricao-content">
          <div class="form-group">
            <textarea name="descricaoAchados" placeholder="Descrição detalhada dos achados encontrados durante o exame pericial" class="input-large" rows="5"></textarea>
          </div>
          
          <div class="form-group">
            <label for="imagensAchados">Imagens dos achados:</label>
            <input type="file" name="imagensAchados" id="imagensAchados" accept="image/*" multiple class="input-large">
            <p class="file-hint">Selecione múltiplos arquivos segurando CTRL. Formatos aceitos: JPG, PNG, DICOM.</p>
          </div>
          
          <div class="form-group">
            <textarea name="caracteristicasDistintivas" placeholder="Características distintivas (anomalias, restaurações específicas, etc.)" class="input-large"></textarea>
          </div>
        </div>
      </div>
      
      <!-- Seção 6: Discussão -->
      <div class="form-section">
        <div class="section-title">
          <h3>6. Discussão</h3>
          <button type="button" class="toggle-btn" data-target="discussao-content">
            <i class="fas fa-chevron-up"></i>
          </button>
        </div>
        
        <div id="discussao-content">
          <div class="form-group">
            <textarea name="analisePericial" placeholder="Análise científica do caso e possíveis hipóteses" class="input-large" rows="4"></textarea>
          </div>
        </div>
      </div>
      
      <!-- Seção 7: Conclusão -->
      <div class="form-section">
        <div class="section-title">
          <h3>7. Conclusão</h3>
          <button type="button" class="toggle-btn" data-target="conclusao-content">
            <i class="fas fa-chevron-up"></i>
          </button>
        </div>
        
        <div id="conclusao-content">
          <div class="form-group">
            <label for="statusConclusao">Status final:</label>
            <select name="statusConclusao" id="statusConclusao" required class="input-large">
              <option value="">Selecione o status final</option>
              <option value="Identificado">Identificado</option>
              <option value="Não identificado">Não identificado</option>
              <option value="Identificação parcial">Identificação parcial</option>
              <option value="Inconclusivo">Inconclusivo</option>
              <option value="Pendente">Pendente</option>
            </select>
          </div>
          
          <div class="form-group">
            <textarea name="conclusaoFinal" placeholder="Síntese da análise e posição final do perito" required class="input-large" rows="4"></textarea>
          </div>
        </div>
      </div>
      
      <!-- Seção 8: Resposta aos Quesitos -->
      <div class="form-section">
        <div class="section-title">
          <h3>8. Resposta aos Quesitos</h3>
          <button type="button" class="toggle-btn" data-target="quesitos-content">
            <i class="fas fa-chevron-up"></i>
          </button>
        </div>
        
        <div id="quesitos-content">
          <div class="form-group">
            <textarea name="respostaQuesitos" placeholder="Respostas sucintas às perguntas feitas pela autoridade requisitante" class="input-large" rows="4"></textarea>
          </div>
        </div>
      </div>
      
      <div class="action-buttons">
        <button type="button" class="btn-secondary" onclick="window.location.href='gerenciar_casos.html'">Cancelar</button>
        <button type="button" class="btn-primary" onclick="window.location.href='gerenciar_casos.html'">Salvar e Finalizar</button>
      </div>
    </form>
  </main>

  <script>
    // Script para mostrar/ocultar campos condicionais
    document.addEventListener('DOMContentLoaded', function() {
      // Campos do examinado
      const identificadoSelect = document.getElementById('identificadoSelect');
      const camposIdentificacao = document.getElementById('campos-identificacao');
      
      identificadoSelect.addEventListener('change', function() {
        if (this.value === 'sim') {
          camposIdentificacao.style.display = 'block';
        } else {
          camposIdentificacao.style.display = 'none';
        }
      });
      
      // Toggle para as seções
      const toggleBtns = document.querySelectorAll('.toggle-btn');
      
      toggleBtns.forEach(function(btn) {
        btn.addEventListener('click', function() {
          const targetId = this.getAttribute('data-target');
          const targetContent = document.getElementById(targetId);
          
          if (targetContent.style.display === 'none') {
            targetContent.style.display = 'block';
            this.innerHTML = '<i class="fas fa-chevron-up"></i>';
          } else {
            targetContent.style.display = 'none';
            this.innerHTML = '<i class="fas fa-chevron-down"></i>';
          }
        });
      });
      
      // Definir data atual
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      const dataAtual = new Date().toLocaleDateString('pt-BR', options);
      document.getElementById('current-date').textContent = dataAtual;
    });
  </script>
</body>
</html>